<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRGB Interactive Effect Builder</title>
    <meta property="og:title" content="SRGB Interactive Effect Builder">
    <meta property="og:description" content="A tool for creating and sharing visual effects for SignalRGB.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://joseamirandavelez.github.io/EffectBuilder/srgbieb_crop.png">
    <meta name="twitter:card" content="summary_large_image">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <script type="module" src="firebase.js"></script>

    <template id="initial-config">
        <meta title="Text Test" />
        <meta description="Built with Effect Builder (https://joseamirandavelez.github.io/EffectBuilder/), by Jose Miranda" />
        <meta publisher="Jose Miranda" />
        <meta property="enableAnimation" label="Enable Animation" type="boolean" default="true" />

        <meta property="obj1_shape" label="Small Clock: Shape" type="combobox" values="rectangle,circle,ring,text" default="text" />
        <meta property="obj1_x" label="Small Clock: X Position" type="number" min="0" max="1280" default="0" />
        <meta property="obj1_y" label="Small Clock: Y Position" type="number" min="0" max="800" default="139" />
        <meta property="obj1_width" label="Small Clock: Width/Outer Diameter" type="number" min="10" max="1280" default="722" />
        <meta property="obj1_height" label="Small Clock: Height" type="number" min="10" max="800" default="596" />
        <meta property="obj1_rotation" label="Small Clock: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj1_innerDiameter" label="Small Clock: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj1_numberOfSegments" label="Small Clock: Segments" type="number" min="1" max="50" default="8" />
        <meta property="obj1_angularWidth" label="Small Clock: Segment Angle" type="number" min="1" max="360" default="20" />
        <meta property="obj1_rotationSpeed" label="Small Clock: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj1_animationSpeed" label="Small Clock: Animation Speed" type="number" min="1" max="50" default="50" />
        <meta property="obj1_animationMode" label="Small Clock: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="bounce-random" />
        <meta property="obj1_scrollDir" label="Small Clock: Scroll Direction" type="combobox" values="right,left,up,down" default="right" />
        <meta property="obj1_gradType" label="Small Clock: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="linear" />
        <meta property="obj1_useSharpGradient" label="Small Clock: Use Sharp Gradient" type="boolean" default="true" />
        <meta property="obj1_gradientStop" label="Small Clock: Gradient Stop %" type="number" min="0" max="100" default="72" />
        <meta property="obj1_gradColor1" label="Small Clock: Color 1" type="color" default="#00ff00" />
        <meta property="obj1_gradColor2" label="Small Clock: Color 2" type="color" default="#d400ff" />
        <meta property="obj1_cycleColors" label="Small Clock: Cycle Colors" type="boolean" default="false" />
        <meta property="obj1_cycleSpeed" label="Small Clock: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj1_numberOfRows" label="Small Clock: Number of Rows" type="number" min="1" max="100" default="2" />
        <meta property="obj1_numberOfColumns" label="Small Clock: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj1_phaseOffset" label="Small Clock: Phase Offset" type="number" min="0" max="100" default="100" />
        <meta property="obj1_text" label="Small Clock: Text" type="textfield" default="Jose Miranda" />
        <meta property="obj1_fontSize" label="Small Clock: Font Size" type="number" min="10" max="400" default="168" />
        <meta property="obj1_textAlign" label="Small Clock: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj1_pixelFont" label="Small Clock: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj1_textAnimation" label="Small Clock: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj1_textAnimationSpeed" label="Small Clock: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj1_showTime" label="Small Clock: Show Current Time" type="boolean" default="true" />
        <meta property="obj1_showDate" label="Small Clock: Show Current Date" type="boolean" default="false" />
        <meta property="obj1_autoWidth" label="Small Clock: Auto-Width" type="boolean" default="true" />

        <meta property="obj2_shape" label="Large Text: Shape" type="combobox" values="rectangle,circle,ring,text" default="text" />
        <meta property="obj2_x" label="Large Text: X Position" type="number" min="0" max="1280" default="-13" />
        <meta property="obj2_y" label="Large Text: Y Position" type="number" min="0" max="800" default="0" />
        <meta property="obj2_width" label="Large Text: Width/Outer Diameter" type="number" min="10" max="1280" default="949" />
        <meta property="obj2_height" label="Large Text: Height" type="number" min="10" max="800" default="596" />
        <meta property="obj2_rotation" label="Large Text: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj2_innerDiameter" label="Large Text: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj2_numberOfSegments" label="Large Text: Segments" type="number" min="1" max="50" default="8" />
        <meta property="obj2_angularWidth" label="Large Text: Segment Angle" type="number" min="1" max="360" default="20" />
        <meta property="obj2_rotationSpeed" label="Large Text: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj2_animationSpeed" label="Large Text: Animation Speed" type="number" min="1" max="50" default="50" />
        <meta property="obj2_animationMode" label="Large Text: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="bounce-random" />
        <meta property="obj2_scrollDir" label="Large Text: Scroll Direction" type="combobox" values="right,left,up,down" default="right" />
        <meta property="obj2_gradType" label="Large Text: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="linear" />
        <meta property="obj2_useSharpGradient" label="Large Text: Use Sharp Gradient" type="boolean" default="true" />
        <meta property="obj2_gradientStop" label="Large Text: Gradient Stop %" type="number" min="0" max="100" default="72" />
        <meta property="obj2_gradColor1" label="Large Text: Color 1" type="color" default="#00ff00" />
        <meta property="obj2_gradColor2" label="Large Text: Color 2" type="color" default="#d400ff" />
        <meta property="obj2_cycleColors" label="Large Text: Cycle Colors" type="boolean" default="false" />
        <meta property="obj2_cycleSpeed" label="Large Text: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj2_numberOfRows" label="Large Text: Number of Rows" type="number" min="1" max="100" default="2" />
        <meta property="obj2_numberOfColumns" label="Large Text: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj2_phaseOffset" label="Large Text: Phase Offset" type="number" min="0" max="100" default="100" />
        <meta property="obj2_text" label="Large Text: Text" type="textfield" default="Interactive Effect Builder" />
        <meta property="obj2_fontSize" label="Large Text: Font Size" type="number" min="10" max="400" default="239" />
        <meta property="obj2_textAlign" label="Large Text: Justification" type="combobox" values="left,center,right" default="left" />
        <meta property="obj2_pixelFont" label="Large Text: Pixel Font Style" type="combobox" values="small,large" default="large" />
        <meta property="obj2_textAnimation" label="Large Text: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="marquee" />
        <meta property="obj2_textAnimationSpeed" label="Large Text: Animation Speed" type="number" min="1" max="100" default="29" />
        <meta property="obj2_showTime" label="Large Text: Show Current Time" type="boolean" default="false" />
        <meta property="obj2_showDate" label="Large Text: Show Current Date" type="boolean" default="false" />
        <meta property="obj2_autoWidth" label="Large Text: Auto-Width" type="boolean" default="false" />

        <meta property="obj3_shape" label="Matrix: Shape" type="combobox" values="rectangle,circle,ring,text" default="rectangle" />
        <meta property="obj3_x" label="Matrix: X Position" type="number" min="0" max="1280" default="0" />
        <meta property="obj3_y" label="Matrix: Y Position" type="number" min="0" max="800" default="227" />
        <meta property="obj3_width" label="Matrix: Width/Outer Diameter" type="number" min="10" max="1280" default="724" />
        <meta property="obj3_height" label="Matrix: Height" type="number" min="10" max="800" default="573" />
        <meta property="obj3_rotation" label="Matrix: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj3_innerDiameter" label="Matrix: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj3_numberOfSegments" label="Matrix: Segments" type="number" min="1" max="50" default="12" />
        <meta property="obj3_angularWidth" label="Matrix: Segment Angle" type="number" min="1" max="360" default="20" />
        <meta property="obj3_rotationSpeed" label="Matrix: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj3_animationSpeed" label="Matrix: Animation Speed" type="number" min="1" max="50" default="10" />
        <meta property="obj3_animationMode" label="Matrix: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj3_scrollDir" label="Matrix: Scroll Direction" type="combobox" values="right,left,up,down" default="right" />
        <meta property="obj3_gradType" label="Matrix: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="random" />
        <meta property="obj3_useSharpGradient" label="Matrix: Use Sharp Gradient" type="boolean" default="false" />
        <meta property="obj3_gradientStop" label="Matrix: Gradient Stop %" type="number" min="0" max="100" default="50" />
        <meta property="obj3_gradColor1" label="Matrix: Color 1" type="color" default="#00ff00" />
        <meta property="obj3_gradColor2" label="Matrix: Color 2" type="color" default="#d400ff" />
        <meta property="obj3_cycleColors" label="Matrix: Cycle Colors" type="boolean" default="false" />
        <meta property="obj3_cycleSpeed" label="Matrix: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj3_numberOfRows" label="Matrix: Number of Rows" type="number" min="1" max="100" default="16" />
        <meta property="obj3_numberOfColumns" label="Matrix: Number of Columns" type="number" min="1" max="100" default="16" />
        <meta property="obj3_phaseOffset" label="Matrix: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj3_text" label="Matrix: Text" type="textfield" default="" />
        <meta property="obj3_fontSize" label="Matrix: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj3_textAlign" label="Matrix: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj3_pixelFont" label="Matrix: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj3_textAnimation" label="Matrix: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj3_textAnimationSpeed" label="Matrix: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj3_showTime" label="Matrix: Show Current Time" type="boolean" default="false" />
        <meta property="obj3_showDate" label="Matrix: Show Current Date" type="boolean" default="false" />
        <meta property="obj3_autoWidth" label="Matrix: Auto-Width" type="boolean" default="true" />

        <meta property="obj4_shape" label="Top Fan Center: Shape" type="combobox" values="rectangle,circle,ring,text" default="circle" />
        <meta property="obj4_x" label="Top Fan Center: X Position" type="number" min="0" max="1280" default="1074" />
        <meta property="obj4_y" label="Top Fan Center: Y Position" type="number" min="0" max="800" default="94" />
        <meta property="obj4_width" label="Top Fan Center: Width/Outer Diameter" type="number" min="10" max="1280" default="112" />
        <meta property="obj4_height" label="Top Fan Center: Height" type="number" min="10" max="800" default="112" />
        <meta property="obj4_rotation" label="Top Fan Center: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj4_innerDiameter" label="Top Fan Center: Inner Diameter" type="number" min="5" max="1270" default="100" />
        <meta property="obj4_numberOfSegments" label="Top Fan Center: Segments" type="number" min="1" max="50" default="12" />
        <meta property="obj4_angularWidth" label="Top Fan Center: Segment Angle" type="number" min="1" max="360" default="15" />
        <meta property="obj4_rotationSpeed" label="Top Fan Center: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj4_animationSpeed" label="Top Fan Center: Animation Speed" type="number" min="1" max="50" default="20" />
        <meta property="obj4_animationMode" label="Top Fan Center: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj4_scrollDir" label="Top Fan Center: Scroll Direction" type="combobox" values="right,left,up,down" default="left" />
        <meta property="obj4_gradType" label="Top Fan Center: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="radial" />
        <meta property="obj4_useSharpGradient" label="Top Fan Center: Use Sharp Gradient" type="boolean" default="true" />
        <meta property="obj4_gradientStop" label="Top Fan Center: Gradient Stop %" type="number" min="0" max="100" default="100" />
        <meta property="obj4_gradColor1" label="Top Fan Center: Color 1" type="color" default="#00ff00" />
        <meta property="obj4_gradColor2" label="Top Fan Center: Color 2" type="color" default="#d400ff" />
        <meta property="obj4_cycleColors" label="Top Fan Center: Cycle Colors" type="boolean" default="false" />
        <meta property="obj4_cycleSpeed" label="Top Fan Center: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj4_numberOfRows" label="Top Fan Center: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj4_numberOfColumns" label="Top Fan Center: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj4_phaseOffset" label="Top Fan Center: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj4_text" label="Top Fan Center: Text" type="textfield" default="" />
        <meta property="obj4_fontSize" label="Top Fan Center: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj4_textAlign" label="Top Fan Center: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj4_pixelFont" label="Top Fan Center: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj4_textAnimation" label="Top Fan Center: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj4_textAnimationSpeed" label="Top Fan Center: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj4_showTime" label="Top Fan Center: Show Current Time" type="boolean" default="false" />
        <meta property="obj4_showDate" label="Top Fan Center: Show Current Date" type="boolean" default="false" />
        <meta property="obj4_autoWidth" label="Top Fan Center: Auto-Width" type="boolean" default="true" />

        <meta property="obj5_shape" label="Top Fan Ring: Shape" type="combobox" values="rectangle,circle,ring,text" default="ring" />
        <meta property="obj5_x" label="Top Fan Ring: X Position" type="number" min="0" max="1280" default="980" />
        <meta property="obj5_y" label="Top Fan Ring: Y Position" type="number" min="0" max="800" default="0" />
        <meta property="obj5_width" label="Top Fan Ring: Width/Outer Diameter" type="number" min="10" max="1280" default="300" />
        <meta property="obj5_height" label="Top Fan Ring: Height" type="number" min="10" max="800" default="300" />
        <meta property="obj5_rotation" label="Top Fan Ring: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj5_innerDiameter" label="Top Fan Ring: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj5_numberOfSegments" label="Top Fan Ring: Segments" type="number" min="1" max="50" default="6" />
        <meta property="obj5_angularWidth" label="Top Fan Ring: Segment Angle" type="number" min="1" max="360" default="40" />
        <meta property="obj5_rotationSpeed" label="Top Fan Ring: Rotation Speed" type="number" min="-100" max="100" default="40" />
        <meta property="obj5_animationSpeed" label="Top Fan Ring: Animation Speed" type="number" min="1" max="50" default="7" />
        <meta property="obj5_animationMode" label="Top Fan Ring: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj5_scrollDir" label="Top Fan Ring: Scroll Direction" type="combobox" values="right,left,up,down" default="down" />
        <meta property="obj5_gradType" label="Top Fan Ring: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="alternating" />
        <meta property="obj5_useSharpGradient" label="Top Fan Ring: Use Sharp Gradient" type="boolean" default="false" />
        <meta property="obj5_gradientStop" label="Top Fan Ring: Gradient Stop %" type="number" min="0" max="100" default="51" />
        <meta property="obj5_gradColor1" label="Top Fan Ring: Color 1" type="color" default="#00ff00" />
        <meta property="obj5_gradColor2" label="Top Fan Ring: Color 2" type="color" default="#d400ff" />
        <meta property="obj5_cycleColors" label="Top Fan Ring: Cycle Colors" type="boolean" default="false" />
        <meta property="obj5_cycleSpeed" label="Top Fan Ring: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj5_numberOfRows" label="Top Fan Ring: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj5_numberOfColumns" label="Top Fan Ring: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj5_phaseOffset" label="Top Fan Ring: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj5_text" label="Top Fan Ring: Text" type="textfield" default="" />
        <meta property="obj5_fontSize" label="Top Fan Ring: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj5_textAlign" label="Top Fan Ring: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj5_pixelFont" label="Top Fan Ring: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj5_textAnimation" label="Top Fan Ring: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj5_textAnimationSpeed" label="Top Fan Ring: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj5_showTime" label="Top Fan Ring: Show Current Time" type="boolean" default="false" />
        <meta property="obj5_showDate" label="Top Fan Ring: Show Current Date" type="boolean" default="false" />
        <meta property="obj5_autoWidth" label="Top Fan Ring: Auto-Width" type="boolean" default="true" />

        <meta property="obj6_shape" label="Bottom Fan Center: Shape" type="combobox" values="rectangle,circle,ring,text" default="circle" />
        <meta property="obj6_x" label="Bottom Fan Center: X Position" type="number" min="0" max="1280" default="1074" />
        <meta property="obj6_y" label="Bottom Fan Center: Y Position" type="number" min="0" max="800" default="594" />
        <meta property="obj6_width" label="Bottom Fan Center: Width/Outer Diameter" type="number" min="10" max="1280" default="112" />
        <meta property="obj6_height" label="Bottom Fan Center: Height" type="number" min="10" max="800" default="112" />
        <meta property="obj6_rotation" label="Bottom Fan Center: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj6_innerDiameter" label="Bottom Fan Center: Inner Diameter" type="number" min="5" max="1270" default="100" />
        <meta property="obj6_numberOfSegments" label="Bottom Fan Center: Segments" type="number" min="1" max="50" default="12" />
        <meta property="obj6_angularWidth" label="Bottom Fan Center: Segment Angle" type="number" min="1" max="360" default="15" />
        <meta property="obj6_rotationSpeed" label="Bottom Fan Center: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj6_animationSpeed" label="Bottom Fan Center: Animation Speed" type="number" min="1" max="50" default="20" />
        <meta property="obj6_animationMode" label="Bottom Fan Center: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj6_scrollDir" label="Bottom Fan Center: Scroll Direction" type="combobox" values="right,left,up,down" default="left" />
        <meta property="obj6_gradType" label="Bottom Fan Center: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="radial" />
        <meta property="obj6_useSharpGradient" label="Bottom Fan Center: Use Sharp Gradient" type="boolean" default="true" />
        <meta property="obj6_gradientStop" label="Bottom Fan Center: Gradient Stop %" type="number" min="0" max="100" default="100" />
        <meta property="obj6_gradColor1" label="Bottom Fan Center: Color 1" type="color" default="#00ff00" />
        <meta property="obj6_gradColor2" label="Bottom Fan Center: Color 2" type="color" default="#d400ff" />
        <meta property="obj6_cycleColors" label="Bottom Fan Center: Cycle Colors" type="boolean" default="false" />
        <meta property="obj6_cycleSpeed" label="Bottom Fan Center: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj6_numberOfRows" label="Bottom Fan Center: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj6_numberOfColumns" label="Bottom Fan Center: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj6_phaseOffset" label="Bottom Fan Center: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj6_text" label="Bottom Fan Center: Text" type="textfield" default="" />
        <meta property="obj6_fontSize" label="Bottom Fan Center: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj6_textAlign" label="Bottom Fan Center: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj6_pixelFont" label="Bottom Fan Center: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj6_textAnimation" label="Bottom Fan Center: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj6_textAnimationSpeed" label="Bottom Fan Center: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj6_showTime" label="Bottom Fan Center: Show Current Time" type="boolean" default="false" />
        <meta property="obj6_showDate" label="Bottom Fan Center: Show Current Date" type="boolean" default="false" />
        <meta property="obj6_autoWidth" label="Bottom Fan Center: Auto-Width" type="boolean" default="true" />

        <meta property="obj7_shape" label="Bottom Fan Ring: Shape" type="combobox" values="rectangle,circle,ring,text" default="ring" />
        <meta property="obj7_x" label="Bottom Fan Ring: X Position" type="number" min="0" max="1280" default="980" />
        <meta property="obj7_y" label="Bottom Fan Ring: Y Position" type="number" min="0" max="800" default="500" />
        <meta property="obj7_width" label="Bottom Fan Ring: Width/Outer Diameter" type="number" min="10" max="1280" default="300" />
        <meta property="obj7_height" label="Bottom Fan Ring: Height" type="number" min="10" max="800" default="300" />
        <meta property="obj7_rotation" label="Bottom Fan Ring: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj7_innerDiameter" label="Bottom Fan Ring: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj7_numberOfSegments" label="Bottom Fan Ring: Segments" type="number" min="1" max="50" default="6" />
        <meta property="obj7_angularWidth" label="Bottom Fan Ring: Segment Angle" type="number" min="1" max="360" default="40" />
        <meta property="obj7_rotationSpeed" label="Bottom Fan Ring: Rotation Speed" type="number" min="-100" max="100" default="-40" />
        <meta property="obj7_animationSpeed" label="Bottom Fan Ring: Animation Speed" type="number" min="1" max="50" default="2" />
        <meta property="obj7_animationMode" label="Bottom Fan Ring: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj7_scrollDir" label="Bottom Fan Ring: Scroll Direction" type="combobox" values="right,left,up,down" default="down" />
        <meta property="obj7_gradType" label="Bottom Fan Ring: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="alternating" />
        <meta property="obj7_useSharpGradient" label="Bottom Fan Ring: Use Sharp Gradient" type="boolean" default="false" />
        <meta property="obj7_gradientStop" label="Bottom Fan Ring: Gradient Stop %" type="number" min="0" max="100" default="51" />
        <meta property="obj7_gradColor1" label="Bottom Fan Ring: Color 1" type="color" default="#00ff00" />
        <meta property="obj7_gradColor2" label="Bottom Fan Ring: Color 2" type="color" default="#d400ff" />
        <meta property="obj7_cycleColors" label="Bottom Fan Ring: Cycle Colors" type="boolean" default="false" />
        <meta property="obj7_cycleSpeed" label="Bottom Fan Ring: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj7_numberOfRows" label="Bottom Fan Ring: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj7_numberOfColumns" label="Bottom Fan Ring: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj7_phaseOffset" label="Bottom Fan Ring: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj7_text" label="Bottom Fan Ring: Text" type="textfield" default="" />
        <meta property="obj7_fontSize" label="Bottom Fan Ring: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj7_textAlign" label="Bottom Fan Ring: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj7_pixelFont" label="Bottom Fan Ring: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj7_textAnimation" label="Bottom Fan Ring: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj7_textAnimationSpeed" label="Bottom Fan Ring: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj7_showTime" label="Bottom Fan Ring: Show Current Time" type="boolean" default="false" />
        <meta property="obj7_showDate" label="Bottom Fan Ring: Show Current Date" type="boolean" default="false" />
        <meta property="obj7_autoWidth" label="Bottom Fan Ring: Auto-Width" type="boolean" default="true" />

        <meta property="obj8_shape" label="Middle Fan Center: Shape" type="combobox" values="rectangle,circle,ring,text" default="circle" />
        <meta property="obj8_x" label="Middle Fan Center: X Position" type="number" min="0" max="1280" default="837" />
        <meta property="obj8_y" label="Middle Fan Center: Y Position" type="number" min="0" max="800" default="340" />
        <meta property="obj8_width" label="Middle Fan Center: Width/Outer Diameter" type="number" min="10" max="1280" default="112" />
        <meta property="obj8_height" label="Middle Fan Center: Height" type="number" min="10" max="800" default="112" />
        <meta property="obj8_rotation" label="Middle Fan Center: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj8_innerDiameter" label="Middle Fan Center: Inner Diameter" type="number" min="5" max="1270" default="100" />
        <meta property="obj8_numberOfSegments" label="Middle Fan Center: Segments" type="number" min="1" max="50" default="12" />
        <meta property="obj8_angularWidth" label="Middle Fan Center: Segment Angle" type="number" min="1" max="360" default="15" />
        <meta property="obj8_rotationSpeed" label="Middle Fan Center: Rotation Speed" type="number" min="-100" max="100" default="0" />
        <meta property="obj8_animationSpeed" label="Middle Fan Center: Animation Speed" type="number" min="1" max="50" default="20" />
        <meta property="obj8_animationMode" label="Middle Fan Center: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj8_scrollDir" label="Middle Fan Center: Scroll Direction" type="combobox" values="right,left,up,down" default="left" />
        <meta property="obj8_gradType" label="Middle Fan Center: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="radial" />
        <meta property="obj8_useSharpGradient" label="Middle Fan Center: Use Sharp Gradient" type="boolean" default="true" />
        <meta property="obj8_gradientStop" label="Middle Fan Center: Gradient Stop %" type="number" min="0" max="100" default="100" />
        <meta property="obj8_gradColor1" label="Middle Fan Center: Color 1" type="color" default="#00ff00" />
        <meta property="obj8_gradColor2" label="Middle Fan Center: Color 2" type="color" default="#d400ff" />
        <meta property="obj8_cycleColors" label="Middle Fan Center: Cycle Colors" type="boolean" default="false" />
        <meta property="obj8_cycleSpeed" label="Middle Fan Center: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj8_numberOfRows" label="Middle Fan Center: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj8_numberOfColumns" label="Middle Fan Center: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj8_phaseOffset" label="Middle Fan Center: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj8_text" label="Middle Fan Center: Text" type="textfield" default="" />
        <meta property="obj8_fontSize" label="Middle Fan Center: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj8_textAlign" label="Middle Fan Center: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj8_pixelFont" label="Middle Fan Center: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj8_textAnimation" label="Middle Fan Center: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj8_textAnimationSpeed" label="Middle Fan Center: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj8_showTime" label="Middle Fan Center: Show Current Time" type="boolean" default="false" />
        <meta property="obj8_showDate" label="Middle Fan Center: Show Current Date" type="boolean" default="false" />
        <meta property="obj8_autoWidth" label="Middle Fan Center: Auto-Width" type="boolean" default="true" />

        <meta property="obj9_shape" label="Middle Fan Ring: Shape" type="combobox" values="rectangle,circle,ring,text" default="ring" />
        <meta property="obj9_x" label="Middle Fan Ring: X Position" type="number" min="0" max="1280" default="743" />
        <meta property="obj9_y" label="Middle Fan Ring: Y Position" type="number" min="0" max="800" default="246" />
        <meta property="obj9_width" label="Middle Fan Ring: Width/Outer Diameter" type="number" min="10" max="1280" default="300" />
        <meta property="obj9_height" label="Middle Fan Ring: Height" type="number" min="10" max="800" default="300" />
        <meta property="obj9_rotation" label="Middle Fan Ring: Rotation" type="number" min="-360" max="360" default="0" />
        <meta property="obj9_innerDiameter" label="Middle Fan Ring: Inner Diameter" type="number" min="5" max="1270" default="200" />
        <meta property="obj9_numberOfSegments" label="Middle Fan Ring: Segments" type="number" min="1" max="50" default="1" />
        <meta property="obj9_angularWidth" label="Middle Fan Ring: Segment Angle" type="number" min="1" max="360" default="180" />
        <meta property="obj9_rotationSpeed" label="Middle Fan Ring: Rotation Speed" type="number" min="-100" max="100" default="40" />
        <meta property="obj9_animationSpeed" label="Middle Fan Ring: Animation Speed" type="number" min="1" max="50" default="2" />
        <meta property="obj9_animationMode" label="Middle Fan Ring: Animation Mode" type="combobox" values="loop,bounce,bounce-reversed,bounce-random" default="loop" />
        <meta property="obj9_scrollDir" label="Middle Fan Ring: Scroll Direction" type="combobox" values="right,left,up,down" default="down" />
        <meta property="obj9_gradType" label="Middle Fan Ring: Fill Type" type="combobox" values="solid,linear,radial,alternating,random" default="alternating" />
        <meta property="obj9_useSharpGradient" label="Middle Fan Ring: Use Sharp Gradient" type="boolean" default="false" />
        <meta property="obj9_gradientStop" label="Middle Fan Ring: Gradient Stop %" type="number" min="0" max="100" default="51" />
        <meta property="obj9_gradColor1" label="Middle Fan Ring: Color 1" type="color" default="#00ff00" />
        <meta property="obj9_gradColor2" label="Middle Fan Ring: Color 2" type="color" default="#d400ff" />
        <meta property="obj9_cycleColors" label="Middle Fan Ring: Cycle Colors" type="boolean" default="false" />
        <meta property="obj9_cycleSpeed" label="Middle Fan Ring: Color Cycle Speed" type="number" min="1" max="10" default="10" />
        <meta property="obj9_numberOfRows" label="Middle Fan Ring: Number of Rows" type="number" min="1" max="100" default="1" />
        <meta property="obj9_numberOfColumns" label="Middle Fan Ring: Number of Columns" type="number" min="1" max="100" default="1" />
        <meta property="obj9_phaseOffset" label="Middle Fan Ring: Phase Offset" type="number" min="0" max="100" default="10" />
        <meta property="obj9_text" label="Middle Fan Ring: Text" type="textfield" default="" />
        <meta property="obj9_fontSize" label="Middle Fan Ring: Font Size" type="number" min="10" max="400" default="60" />
        <meta property="obj9_textAlign" label="Middle Fan Ring: Justification" type="combobox" values="left,center,right" default="center" />
        <meta property="obj9_pixelFont" label="Middle Fan Ring: Pixel Font Style" type="combobox" values="small,large" default="small" />
        <meta property="obj9_textAnimation" label="Middle Fan Ring: Text Animation" type="combobox" values="none,marquee,typewriter,wave" default="none" />
        <meta property="obj9_textAnimationSpeed" label="Middle Fan Ring: Animation Speed" type="number" min="1" max="100" default="10" />
        <meta property="obj9_showTime" label="Middle Fan Ring: Show Current Time" type="boolean" default="false" />
        <meta property="obj9_showDate" label="Middle Fan Ring: Show Current Date" type="boolean" default="false" />
        <meta property="obj9_autoWidth" label="Middle Fan Ring: Auto-Width" type="boolean" default="true" />
    </template>
    <link rel="stylesheet" href="styles.css">
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WS7MGSDJSB"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-WS7MGSDJSB');
</script>

<body class="d-flex flex-column vh-100">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Interactive Effect Builder v1.0</a>

            <div class="ms-auto d-flex align-items-center">

                <!-- Group for Project Management -->
                <div class="btn-group me-3" role="group" aria-label="Project management actions">
                    <button class="btn btn-outline-secondary" id="new-ws-btn" data-bs-toggle="tooltip" title="New Workspace"><i class="bi bi-file-earmark-plus me-1"></i> New</button>
                    <button class="btn btn-outline-primary" id="save-ws-btn" data-bs-toggle="tooltip" title="Save current workspace to the cloud" disabled><i class="bi bi-cloud-arrow-up me-1"></i> Save</button>
                    <button class="btn btn-outline-secondary" id="load-ws-btn" data-bs-toggle="offcanvas" data-bs-target="#gallery-offcanvas" aria-controls="gallery-offcanvas" data-bs-toggle="tooltip" title="Load one of your saved projects" disabled><i class="bi bi-folder2-open me-1"></i> Open</button>
                    <button class="btn btn-outline-warning" id="browse-btn" data-bs-toggle="offcanvas" data-bs-target="#gallery-offcanvas" aria-controls="gallery-offcanvas"><i class="bi bi-view-list me-1"></i> Community Gallery</button>
                    <button class="btn btn-outline-info" id="import-btn" data-bs-toggle="modal" data-bs-target="#import-meta-modal"><i class="bi bi-box-arrow-in-down me-1"></i> Import</button>
                </div>

                <!-- Group for Output/Sharing -->
                <div class="btn-group me-3" role="group" aria-label="Sharing and exporting actions">
                    <button class="btn btn-outline-info" id="share-btn" title="Get a shareable link to this effect" disabled><i class="bi bi-share me-1"></i> Share</button>
                    <button class="btn btn-outline-success" id="export-btn" data-bs-toggle="tooltip" title="Download complete HTML file"><i class="bi bi-download me-1"></i> Export</button>
                </div>

                <!-- Group for Help and Settings -->
                <div class="btn-group" role="group" aria-label="Help and settings">
                    <button class="btn btn-outline-secondary" id="help-btn" data-bs-toggle="modal" data-bs-target="#help-modal" title="Help"><i class="bi bi-question-circle"></i></button>
                    <button class="btn btn-outline-secondary" id="about-btn" data-bs-toggle="modal" data-bs-target="#about-modal" title="About"><i class="bi bi-info-circle"></i></button>
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="theme-dropdown-button" data-bs-toggle="dropdown" aria-expanded="false" title="Change Theme">
                        <i class="bi" id="theme-icon"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><button class="dropdown-item d-flex align-items-center" type="button" data-bs-theme-value="light"><i class="bi bi-sun-fill me-2"></i>Light<i class="bi bi-check2 ms-auto d-none"></i></button></li>
                        <li><button class="dropdown-item d-flex align-items-center" type="button" data-bs-theme-value="dark"><i class="bi bi-moon-stars-fill me-2"></i>Dark<i class="bi bi-check2 ms-auto d-none"></i></button></li>
                        <li><button class="dropdown-item d-flex align-items-center" type="button" data-bs-theme-value="auto"><i class="bi bi-circle-half me-2"></i>Auto<i class="bi bi-check2 ms-auto d-none"></i></button></li>
                    </ul>
                </div>

                <!-- User Session -->
                <div class="ms-3">
                    <!-- Logged Out State -->
                    <button class="btn btn-outline-success" id="login-btn"><i class="bi bi-google me-2"></i>Sign In</button>

                    <!-- Logged In State (hidden by default) -->
                    <div class="btn-group d-none" id="user-session-group" role="group">
                        <span class="btn btn-outline-secondary d-flex align-items-center disabled" style="pointer-events: none;">
                            <img id="user-photo" class="rounded-circle me-2" style="width: 24px; height: 24px;" alt="User profile photo">
                            <span id="user-display"></span>
                        </span>
                        <button class="btn btn-outline-danger" id="logout-btn" title="Sign Out"><i class="bi bi-box-arrow-right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container-fluid flex-grow-1 overflow-hidden p-0">
        <div class="h-100" id="main-split">
            <div id="left-panel" class="h-100 p-3 border-end bg-body-tertiary" style="overflow: auto;">
                <div class="h-100 d-flex flex-column">
                    <div class="flex-grow-1 overflow-auto pe-2">
                        <h4 class="text-body-emphasis">Controls</h4>
                        <form id="controls-form"></form>
                    </div>
                    <div class="mt-3">
                        <button class="btn btn-success w-100" id="add-object-btn" data-bs-toggle="tooltip" title="Add a new default object to the scene"><i class="bi bi-plus-circle"></i> Add New
                            Object</button>
                    </div>
                </div>
            </div>

            <div id="right-panel" class="d-flex flex-column h-100">
                <div id="right-panel-top" class="d-flex flex-column" style="overflow: auto; min-height: 0;">
                    <div class="p-0">
                        <div id="toolbar" class="bg-body-tertiary p-2 rounded d-flex flex-wrap">
                            <div class="btn-group btn-group-sm me-2 mb-1" role="group">
                                <button type="button" class="btn btn-secondary" id="undo-btn" data-bs-toggle="tooltip" title="Undo (Ctrl+Z)" disabled><i class="bi bi-arrow-90deg-left"></i></button>
                                <button type="button" class="btn btn-secondary" id="redo-btn" data-bs-toggle="tooltip" title="Redo (Ctrl+Y)" disabled><i class="bi bi-arrow-90deg-right"></i></button>
                            </div>
                            <div class="btn-group btn-group-sm me-2 mb-1" role="group">
                                <button type="button" class="btn btn-secondary" data-action="align-screen-left" data-bs-toggle="tooltip" title="Align Left to Screen"><i class="bi bi-align-start"></i></button>
                                <button type="button" class="btn btn-secondary" data-action="align-screen-h-center" data-bs-toggle="tooltip" title="Align Horizontal Center to Screen"><i class="bi bi-align-center"></i></button>
                                <button type="button" class="btn btn-secondary" data-action="align-screen-right" data-bs-toggle="tooltip" title="Align Right to Screen"><i class="bi bi-align-end"></i></button>
                            </div>
                            <div class="btn-group btn-group-sm me-2 mb-1" role="group">
                                <button type="button" class="btn btn-secondary" data-action="align-screen-top" data-bs-toggle="tooltip" title="Align Top to Screen"><i class="bi bi-align-top"></i></button>
                                <button type="button" class="btn btn-secondary" data-action="align-screen-v-center" data-bs-toggle="tooltip" title="Align Vertical Center to Screen"><i class="bi bi-align-middle"></i></button>
                                <button type="button" class="btn btn-secondary" data-action="align-screen-bottom" data-bs-toggle="tooltip" title="Align Bottom to Screen"><i class="bi bi-align-bottom"></i></button>
                            </div>
                            <div class="btn-group btn-group-sm me-2 mb-1" role="group">
                                <button type="button" class="btn btn-secondary" data-action="match-width" data-bs-toggle="tooltip" title="Match Width of First Selected"><i class="bi bi-arrows-expand-vertical"></i> W</button>
                                <button type="button" class="btn btn-secondary" data-action="match-height" data-bs-toggle="tooltip" title="Match Height of First Selected"><i class="bi bi-arrows-expand"></i> H</button>
                                <button type="button" class="btn btn-secondary" data-action="match-both" data-bs-toggle="tooltip" title="Match Size of First Selected"><i class="bi bi-fullscreen"></i></button>
                                <button type="button" class="btn btn-secondary" data-action="fit-canvas" data-bs-toggle="tooltip" title="Fit to Canvas"><i class="bi bi-arrows-fullscreen"></i></button>
                            </div>
                            <div class="btn-group btn-group-sm me-2 mb-1" role="group">
                                <button type="button" class="btn btn-secondary" id="constrain-btn" data-bs-toggle="tooltip" title="Snap to Canvas"><i class="bi bi-magnet-fill"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="flex-grow-1 bg-body-tertiary" style="min-height: 0; position: relative;">
                        <div id="canvas-container" class="mx-auto border border-secondary">
                            <canvas id="signalCanvas"></canvas>
                        </div>
                    </div>
                </div>
                <div id="right-panel-bottom" class="output-panel d-flex flex-column p-3 border-top bg-body-tertiary">
                    <h5 class="text-body-emphasis mb-2">Generated Script Header</h5>

                    <div class="d-flex flex-grow-1">
                        <textarea id="output-script" class="form-control flex-grow-1" readonly></textarea>
                        <button class="btn btn-primary ms-2" id="copy-btn" ...>
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 99999">
        <!-- Toast for general notifications -->
        <div id="app-toast" class="toast border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000" style="width: 350px; font-size: 1.1rem;">
            <div id="app-toast-header" class="toast-header text-white d-flex align-items-center">
                <i id="app-toast-icon" class="bi me-2"></i>
                <strong class="me-auto" id="app-toast-title">Notification</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body bg-dark" id="app-toast-body">
                <!-- Message will be inserted here -->
            </div>
        </div>
    </div>

    <div class="modal fade" id="load-project-modal" tabindex="-1" aria-labelledby="loadProjectModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loadProjectModalLabel">Load Project</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Select a project to load. This will overwrite your current workspace.</p>
                    <ul class="list-group" id="load-project-list"></ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="save-project-modal" tabindex="-1" aria-labelledby="saveProjectModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="saveProjectModalLabel">Save Project</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="save-project-name-input" class="form-label">Project Name:</label>
                        <input type="text" class="form-control" id="save-project-name-input" placeholder="Enter a name for your project...">
                    </div>
                    <hr>
                    <p>Existing Projects:</p>
                    <ul class="list-group" id="save-project-existing-list">
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirm-save-btn">Save Project</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="notification-modal" tabindex="-1" aria-labelledby="notificationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="notificationModalLabel">Success</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="notification-modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="confirm-overwrite-modal" tabindex="-1" aria-labelledby="confirmOverwriteModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmOverwriteModalLabel">Confirm Overwrite</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="confirm-overwrite-modal-body">
                    A project with this name already exists. Do you want to overwrite it?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-overwrite-btn">Overwrite</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="help-modal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalLabel"><i class="bi bi-question-circle me-2"></i>How to Use the Effect Builder</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6 class="text-info">The Controls Panel (Left)</h6>
                    <p>This is where you manage all the objects in your scene.</p>
                    <ul class="list-unstyled">
                        <li><strong>Add New Object:</strong> Use the green button at the bottom to add a new shape to the canvas.</li>
                        <li><strong>Object Panels:</strong> Each object gets its own collapsible panel. Click the object's name to expand or collapse its properties.</li>
                        <li><strong>Rename:</strong> Click directly on an object's name (e.g., "Object 1") to edit it.</li>
                        <li><strong>Reorder:</strong> Click and drag the <i class="bi bi-grip-vertical"></i> icon to change the rendering order of the objects.</li>
                        <li><strong>Lock/Unlock:</strong> Use the <i class="bi bi-unlock-fill"></i> / <i class="bi bi-lock-fill"></i> button to prevent an object from being moved or resized on the canvas.</li>
                        <li><strong>Duplicate/Delete:</strong> Use the menu button (<i class="bi bi-list"></i>) to access options for duplicating or deleting an object.</li>
                    </ul>

                    <h6 class="text-info mt-4">The Canvas (Center)</h6>
                    <p>This is the visual editor where you can directly manipulate objects.</p>
                    <ul class="list-unstyled">
                        <li><strong>Select:</strong> Click on an object to select it.</li>
                        <li><strong>Multi-Select:</strong> Hold <kbd>Shift</kbd> or <kbd>Ctrl</kbd> while clicking to select multiple objects.</li>
                        <li><strong>Drag:</strong> Click and drag a selected object to move it.</li>
                        <li><strong>Resize:</strong> Click and drag the handles on the corners and sides of a selected object to resize it.</li>
                    </ul>

                    <h6 class="text-info mt-4">Main Toolbar (Top)</h6>
                    <p>The main toolbar provides actions for managing, sharing, and exporting your effects. Most cloud actions require you to be signed in.</p>
                    <ul class="list-unstyled">
                        <li><strong class="text-primary-emphasis"><i class="bi bi-cloud-arrow-up me-1"></i> Save:</strong> Saves your current workspace to the cloud. It uses the name from the "Effect Title" field and will prevent you from saving duplicate names.</li>
                        <li><strong class="text-secondary-emphasis"><i class="bi bi-folder2-open me-1"></i> My Projects:</strong> Opens a side panel showing all effects you have personally saved, sorted by most recent.</li>
                        <li><strong class="text-warning-emphasis"><i class="bi bi-view-list me-1"></i> Browse Gallery:</strong> Opens a side panel showing all public effects created by all users.</li>
                        <li><strong class="text-info-emphasis"><i class="bi bi-box-arrow-in-down me-1"></i> Import:</strong> Opens a dialog where you can paste `
                            <meta>` tags from an old effect file to load it into the builder.
                        </li>
                        <li><strong class="text-info-emphasis"><i class="bi bi-share me-1"></i> Get Link:</strong> This button is enabled only after you save an effect. It opens a modal with a unique, shareable URL for your saved project.</li>
                        <li><strong class="text-success-emphasis"><i class="bi bi-download me-1"></i> Export:</strong> Generates and downloads a complete, standalone HTML file of your effect for use in SignalRGB.</li>
                    </ul>

                    <h6 class="text-info mt-4">How to install the effect in SignalRGB</h6>
                    <ul class="list-unstyled">
                        <li>Extract the zip file contents to your 'Documents\WhirlwindFX\Effects' folder. Preferably within a folder with the same name as the file for organization.</li>
                        <li>Restart SignalRGB.</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it!</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="about-modal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="aboutModalLabel"><i class="bi bi-info-circle me-2"></i>About This Tool</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>SRGB Interactive Effect Builder</h6>
                    <img src="srgbieb_crop.png" class="img-fluid rounded mb-3" alt="A screenshot of the Interactive Effect Builder UI, showing a complex lighting effect being designed on a canvas with control panels on the side.">
                    <p>This tool is designed to help developers create and customize complex visual effects for SignalRGB. It provides a simple graphical interface for building effects and can save them to the cloud, share them with others, and export them as standalone files for use with the <a href="https://github.com/joseamirandavelez/EffectClass">EffectClass</a> template.</p>

                    <p class="small text-body-secondary mt-4">
                        <strong>Disclaimer:</strong> This tool is an independent project and is not affiliated with, endorsed by, or in any way officially connected with the SignalRGB software or its respective owners.
                    </p>
                    <div class="small text-body-secondary mt-4">
                        <strong>Acknowledgements:</strong> This website uses the following open-source libraries:
                        <ul>
                            <li><a href="https://getbootstrap.com/" target="_blank">Bootstrap</a></li>
                            <li><a href="https://icons.getbootstrap.com/" target="_blank">Bootstrap Icons</a></li>
                            <li><a href="https://github.com/SortableJS/Sortable" target="_blank">SortableJS</a></li>
                            <li><a href="https://stuk.github.io/jszip/" target="_blank">JSZip</a></li>
                            <li><a href="https://split.js.org/" target="_blank">Split.js</a></li>
                        </ul>
                    </div>
                    <hr>

                    <div class="d-flex justify-content-between align-items-center">
                        <p class="mb-0"><strong>Developer:</strong> Jose Miranda</p>
                        <a href="#" data-bs-toggle="modal" data-bs-target="#terms-modal">Terms of Usage</a>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <span class="small text-body-secondary" id="last-updated-span">
                    </span>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="terms-modal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel"><i class="bi bi-file-text me-2"></i>Terms of Usage</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>By using this Interactive Effect Builder (the "Tool"), you agree to the following terms:</p>

                    <h6 class="mt-4">1. No Warranty</h6>
                    <p>This Tool is provided "as-is", without any warranties of any kind, express or implied. The
                        developer makes no guarantees regarding its functionality, reliability, or suitability for any
                        particular purpose.</p>

                    <h6 class="mt-4">2. Limitation of Liability</h6>
                    <p>In no event shall the developer be liable for any claim, damages, or other liability arising from
                        the use of, or inability to use, the Tool.</p>

                    <h6 class="mt-4">3. User Responsibility</h6>
                    <p>You are solely responsible for the effects you create and their use. It is your responsibility to
                        ensure they comply with the terms of service of any platform or application they are used with,
                        including SignalRGB.</p>

                    <h6 class="mt-4">4. License</h6>
                    <p>This Tool is free to use, modify, and distribute. Attribution is appreciated but not required.
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="import-meta-modal" tabindex="-1" aria-labelledby="importMetaModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="importMetaModalLabel"><i class="bi bi-code-slash me-2"></i>Import from Meta Tags</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Paste the full block of <strong>&lt;meta&gt;</strong> tags from an old effect file below. This will overwrite your current workspace.</p>
                    </p>
                    <textarea class="form-control font-monospace" id="import-textarea" rows="10" placeholder="<meta title=... />&#10;<meta description=... />&#10;..."></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirm-import-btn">Import Effect</button>
                </div>
            </div>
        </div>
    </div>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="gallery-offcanvas" aria-labelledby="galleryOffcanvasLabel" style="width: 700px;">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="galleryOffcanvasLabel"><i class="bi bi-view-list me-2"></i>Community Gallery</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <p>Select a public effect to load into your workspace.</p>
            <ul class="list-group" id="gallery-project-list">
                <!-- Projects will be loaded here by JavaScript -->
            </ul>
        </div>
    </div>

    <div class="modal fade" id="share-modal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="shareModalLabel"><i class="bi bi-share-fill me-2"></i>Share Your Effect</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Anyone with this link can view and load your effect.</p>
                    <div class="input-group">
                        <input type="text" class="form-control" id="share-link-input" readonly>
                        <button class="btn btn-primary" type="button" id="copy-share-link-btn">
                            <i class="bi bi-clipboard"></i> Copy
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/split.js/dist/split.min.js"></script>
    <script src="main.js"></script>
</body>

</html>